{
  "motorcycle_make": "Kymco",
  "motorcycle_model": "Downtown 300i",
  "title": "Stalls / Rough Idle",
  "description": "Diagnose rough idle and stalling on the Kymco Downtown 300i with its 276cc liquid-cooled engine.",
  "category": "fuel",
  "difficulty": "beginner",
  "tree_data": {
    "nodes": [
      {
        "id": "start",
        "type": "question",
        "text": "How does the idle issue present on your Downtown 300i?",
        "safety": "green",
        "options": [
          { "text": "Rough idle with vibration", "next": "check_idle" },
          { "text": "Stalls at stops", "next": "check_idle" },
          { "text": "Idle surges", "next": "check_vacuum" },
          { "text": "Dies after starting", "next": "check_iacv" }
        ]
      },
      {
        "id": "check_idle",
        "type": "check",
        "text": "Check idle speed",
        "safety": "green",
        "instructions": "Warm the 276cc engine fully (wait for fan to cycle). Should idle at approximately 1,400-1,600 RPM. The Downtown 300i may have an ECU-controlled idle that self-adjusts. If the idle speed is not adjustable manually, the ECU or IACV may need attention.",
        "next": "idle_result"
      },
      {
        "id": "idle_result",
        "type": "question",
        "text": "Stable idle?",
        "safety": "green",
        "options": [
          { "text": "Yes", "next": "solution_idle" },
          { "text": "Still rough", "next": "check_filter" },
          { "text": "Keeps stalling", "next": "check_iacv" }
        ]
      },
      {
        "id": "check_filter",
        "type": "check",
        "text": "Inspect air filter",
        "safety": "green",
        "instructions": "The Downtown 300i air filter services the larger 276cc engine. A dirty filter significantly impacts performance. Check and replace if dirty. Access is typically under the seat or behind a side panel.",
        "next": "filter_result"
      },
      {
        "id": "filter_result",
        "type": "question",
        "text": "Filter?",
        "safety": "green",
        "options": [
          { "text": "Dirty", "next": "solution_filter" },
          { "text": "Clean", "next": "check_fuel" }
        ]
      },
      {
        "id": "check_vacuum",
        "type": "check",
        "text": "Check vacuum leaks",
        "safety": "yellow",
        "warning": "No flammable sprays near hot engine.",
        "instructions": "Spray contact cleaner around intake boot while idling. The Downtown 300i has a larger throttle body — check all connections and vacuum hoses.",
        "next": "vacuum_result"
      },
      {
        "id": "vacuum_result",
        "type": "question",
        "text": "Leak found?",
        "safety": "green",
        "options": [
          { "text": "Yes", "next": "solution_vacuum" },
          { "text": "No", "next": "check_fuel" }
        ]
      },
      {
        "id": "check_iacv",
        "type": "check",
        "text": "Check IACV",
        "safety": "green",
        "instructions": "The Downtown 300i uses ECU-controlled idle via IACV or throttle body bypass. Carbon buildup is common. Remove and clean with throttle body cleaner. If the scooter has a diagnostic port, check for stored error codes that may indicate IACV or sensor faults.",
        "next": "iacv_result"
      },
      {
        "id": "iacv_result",
        "type": "question",
        "text": "IACV status?",
        "safety": "green",
        "options": [
          { "text": "Dirty — cleaned", "next": "solution_iacv" },
          { "text": "Failed electrically", "next": "solution_iacv_replace" },
          { "text": "Seems OK", "next": "check_fuel" }
        ]
      },
      {
        "id": "check_fuel",
        "type": "check",
        "text": "Check fuel quality",
        "safety": "yellow",
        "warning": "Fuel is flammable.",
        "instructions": "Stale fuel (30+ days) causes rough idle. The Downtown 300i uses 91+ octane premium fuel. Check freshness and for contamination.",
        "next": "fuel_result"
      },
      {
        "id": "fuel_result",
        "type": "question",
        "text": "Fuel?",
        "safety": "green",
        "options": [
          { "text": "Stale", "next": "solution_fuel" },
          { "text": "Contaminated", "next": "solution_drain" },
          { "text": "Fresh", "next": "check_plug" }
        ]
      },
      {
        "id": "check_plug",
        "type": "check",
        "text": "Inspect spark plug",
        "safety": "green",
        "instructions": "Remove and inspect. Check color and gap per manual specification. The Downtown 300i uses a specific plug — check the service manual.",
        "next": "plug_result"
      },
      {
        "id": "plug_result",
        "type": "question",
        "text": "Plug?",
        "safety": "green",
        "options": [
          { "text": "Fouled/worn", "next": "solution_plug" },
          { "text": "Fine", "next": "solution_injector" }
        ]
      },
      {
        "id": "solution_idle",
        "type": "solution",
        "text": "Idle Set",
        "safety": "green",
        "action": "Idle adjusted.",
        "details": "1,400-1,600 RPM when warm. If ECU-controlled, it should self-adjust."
      },
      {
        "id": "solution_filter",
        "type": "solution",
        "text": "Replace Filter",
        "safety": "green",
        "action": "New air filter.",
        "details": "Replace every 6,000-8,000 km."
      },
      {
        "id": "solution_vacuum",
        "type": "solution",
        "text": "Fix Vacuum Leak",
        "safety": "green",
        "action": "Replace cracked boot or hose.",
        "details": "Reset idle after repair."
      },
      {
        "id": "solution_iacv",
        "type": "solution",
        "text": "IACV Cleaned",
        "safety": "green",
        "action": "Reinstall cleaned IACV.",
        "details": "ECU relearns over a few idle cycles."
      },
      {
        "id": "solution_iacv_replace",
        "type": "solution",
        "text": "Replace IACV",
        "safety": "green",
        "action": "Replace failed IACV.",
        "details": "OEM replacement recommended."
      },
      {
        "id": "solution_fuel",
        "type": "solution",
        "text": "Fresh Fuel",
        "safety": "yellow",
        "warning": "Dispose old fuel properly.",
        "action": "Drain and refill.",
        "details": "Use 91+ octane. Add injector cleaner."
      },
      {
        "id": "solution_drain",
        "type": "solution",
        "text": "Drain Contaminated Fuel",
        "safety": "yellow",
        "warning": "Water damages injector.",
        "action": "Drain all fuel, refill.",
        "details": "Check fuel cap seal."
      },
      {
        "id": "solution_plug",
        "type": "solution",
        "text": "Replace Plug",
        "safety": "green",
        "action": "New spark plug.",
        "details": "Correct type and gap per manual."
      },
      {
        "id": "solution_injector",
        "type": "solution",
        "text": "Injector Service",
        "safety": "green",
        "action": "Fuel system cleaner or professional injector service.",
        "details": "The 300i injector handles more fuel flow. Add Techron. Professional ultrasonic cleaning if persistent."
      }
    ]
  }
}